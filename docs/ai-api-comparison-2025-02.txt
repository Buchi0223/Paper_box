AI API 料金比較メモ（2026年2月22日調査）
=============================================

■ 用途: PaperShelf 論文管理アプリのAI処理
  - 論文要約（日本語300字）
  - 論文解説（日本語500〜800字）
  - タイトル翻訳（英→日）
  - メタデータ構造化抽出（タイトル、著者、DOI等）

■ 1論文あたりの推定トークン使用量
  - 入力: 約3,000〜5,000トークン × 3〜4リクエスト
  - 出力: 約500〜1,500トークン × 3〜4リクエスト
  - 合計: 約15,000〜25,000トークン/論文

=============================================
1. OpenAI GPT-4o（現行）
=============================================
- 入力: $2.50 / 1Mトークン
- 出力: $10.00 / 1Mトークン
- 1論文あたり推定コスト: 約$0.05〜$0.08（約7〜12円）
- 月100論文: 約$5〜$8
- 無料枠: なし
- 特徴: 高精度、JSON mode対応

---------------------------------------------
1b. OpenAI GPT-4o-mini
---------------------------------------------
- 入力: $0.15 / 1Mトークン
- 出力: $0.60 / 1Mトークン
- 1論文あたり推定コスト: 約$0.003〜$0.005（約0.5〜0.7円）
- 月100論文: 約$0.3〜$0.5
- 無料枠: なし
- 特徴: GPT-4oの約1/15のコスト、論文要約には十分な精度

=============================================
2. Google Gemini 2.0 Flash ★採用
=============================================
- 入力: 無料（Free tier: 500リクエスト/日）
- 有料版: 入力 $0.10 / 1Mトークン、出力 $0.40 / 1Mトークン
- 1論文あたり推定コスト: 無料枠内なら$0
- 月100論文: 無料枠で対応可能（1日約3〜4論文 × 30日）
- 無料枠: 500 RPD（リクエスト/日）、100万トークン/分
- 特徴:
  - 無料枠が非常に大きい（個人利用では十分）
  - JSON mode対応
  - 多言語対応（日本語も良好）
  - レスポンス速度が速い
  - コンテキストウィンドウ: 1Mトークン

---------------------------------------------
2b. Google Gemini 2.0 Flash Lite
---------------------------------------------
- 入力: $0.075 / 1Mトークン
- 出力: $0.30 / 1Mトークン
- 無料枠あり
- 特徴: Flashよりさらに軽量・安価

=============================================
3. Anthropic Claude 3.5 Haiku
=============================================
- 入力: $0.80 / 1Mトークン
- 出力: $4.00 / 1Mトークン
- 1論文あたり推定コスト: 約$0.02〜$0.03
- 月100論文: 約$2〜$3
- 無料枠: なし（API利用は有料のみ）
- 特徴: 高精度だが無料枠なし

=============================================
■ 結論
=============================================
→ Gemini 2.0 Flash を採用
  - 無料枠（500 RPD）で個人利用は十分カバー可能
  - 有料でもGPT-4oの約1/25のコスト
  - JSON構造化出力に対応
  - 日本語処理の品質も十分

■ 移行方針
  - OpenAI SDK → Google Generative AI SDK (@google/generative-ai)
  - OPENAI_API_KEY → GEMINI_API_KEY
  - プロンプトは基本的にそのまま流用可能
  - response_format: json_object → responseMimeType: "application/json"
